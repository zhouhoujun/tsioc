!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@ts-ioc/core")):"function"==typeof define&&define.amd?define(["@ts-ioc/core"],t):(e["platform-browser"]=e["platform-browser"]||{},e["platform-browser"].umd=e["platform-browser"].umd||{},e["platform-browser"].umd.js=t(e["@ts-ioc/core"]))}(this,function(a){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;var s="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=t(function(e,t){var r,n=s&&s.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.createLoader=function(){if("undefined"!=typeof System)return function(e){return System.import(e)};if(void 0!==i)return function(e){return new Promise(function(e,t){i()})};throw new Error("has not module loader")},t.classAnnations={name:"BrowserModuleLoader",params:{constructor:[],createLoader:[]}},t}(a.DefaultModuleLoader);t.BrowserModuleLoader=o});e(r);r.BrowserModuleLoader;var c=t(function(e,t){var n=function(t){function e(e){return t.call(this,e||new r.BrowserModuleLoader)||this}return __extends(e,t),e.classAnnations={name:"ContainerBuilder",params:{constructor:["loader"]}},e}(a.DefaultContainerBuilder);t.ContainerBuilder=n});e(c);c.ContainerBuilder;var o=t(function(e,o){var i=s&&s.__awaiter||function(i,u,a,s){return new(a||(a=Promise))(function(e,t){function n(e){try{o(s.next(e))}catch(e){t(e)}}function r(e){try{o(s.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,r)}o((s=s.apply(i,u||[])).next())})},u=s&&s.__generator||function(n,r){var o,i,u,e,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(u=u.call(i,t[1])).done)return u;switch(i=0,u&&(t=[0,u.value]),t[0]){case 0:case 1:u=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(u=0<(u=a.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){a.label=t[1];break}if(6===t[0]&&a.label<u[1]){a.label=u[1],u=t;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(t);break}u[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],i=0}finally{o=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};o.AppConfigurationToken=new a.InjectToken("__IOC_AppConfiguration");var n={rootdir:"",debug:!1,aop:"./aop",usedAops:[],connections:{},setting:{}},t=function(r){function t(e){var t=r.call(this)||this;return t.baseURL=e||!a.isUndefined(System)?System.baseURL:location.href,t}return __extends(t,r),t.create=function(e){return new t(e)},t.prototype.getContainerBuilder=function(){return this.builder||(this.builder=new c.ContainerBuilder),this.builder},t.prototype.getDefaultConfig=function(){return a.lang.assign({},n)},t.prototype.setRootdir=function(e){e.rootdir=this.baseURL},t.prototype.initIContainer=function(t,n){return i(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return n.bindProvider(o.AppConfigurationToken,t),[4,r.prototype.initIContainer.call(this,t,n)];case 1:return e.sent(),[2,n]}})})},t.classAnnations={name:"PlatformBrowser",params:{constructor:["baseURL"],create:["rootdir"],getContainerBuilder:[],getDefaultConfig:[],setRootdir:["config"],initIContainer:["config","container"]}},t}(a.ModuleBuilder);o.PlatformBrowser=t});e(o);o.AppConfigurationToken,o.PlatformBrowser;return e(t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}t(r),t(c),t(o)}))});